query Query_{{ name }}_agg
  {%- if args and args.length > 0 or fields and fields.length > 0 or aggFields and aggFields.length > 0-%}
  ({% for arg in args %}{% if arg.alias %}${{ arg.alias }}{% else %}${{ arg.name }}{% endif %}: {{ arg.type }} {% endfor %}{% for field in fields %}$include_{{ field.name }}: Boolean = false {% endfor %}{% for field in aggFields %}{% if field.isObjectType %}$include_{{ field.fieldName }}: Boolean = false {% for aggField in field.aggFieldList %}$include_{{ field.fieldName }}_{{ aggField.fieldName }}: Boolean = false {% endfor %}{% else %}{% for aggField in field.aggFieldList %}$include_{{ aggField.fieldName }}: Boolean = false {% endfor %}{% endif %}{% endfor %})
  {%- endif %} {
  {{ name }}
    {%- if args and args.length > 0 %}({% for arg in args %}{{ arg.name }}: {% if arg.alias %}${{ arg.alias }}{% else %}${{ arg.name }}{% endif %} {% endfor %}){% endif %}
    {%- if isConnection %} {
    totalCount
    edges {
      node {
        {%- if fields %}
        {%- for field in fields %}
        {{ field.name }} @include(if: $include_{{ field.name }})
        {%- endfor %}
        {%- endif %}
        {%- if aggFields %}
        {%- for field in aggFields %}
        {%- if field.isObjectType %}
        {{ field.fieldName }} @include(if: $include_{{ field.fieldName }}) {
          {%- for aggField in field.aggFieldList %}
          {{ aggField.fieldName }} @include(if: $include_{{ field.fieldName }}_{{ aggField.fieldName }})
          {%- endfor %}
        }
        {%- else %}
        {%- for aggField in field.aggFieldList %}
        {{ aggField.fieldName }} @include(if: $include_{{ aggField.fieldName }})
        {%- endfor %}
        {%- endif %}
        {%- endfor %}
        {%- endif %}
      }
    }
  }
    {%- else %}
    {%- if fields or aggFields %} {
    {%- if fields %}
    {%- for field in fields %}
    {{ field.name }} @include(if: $include_{{ field.name }})
    {%- endfor %}
    {%- endif %}
    {%- if aggFields %}
    {%- for field in aggFields %}
    {%- if field.isObjectType %}
    {{ field.fieldName }} @include(if: $include_{{ field.fieldName }}) {
      {%- for aggField in field.aggFieldList %}
      {{ aggField.fieldName }} @include(if: $include_{{ field.fieldName }}_{{ aggField.fieldName }})
      {%- endfor %}
    }
    {%- else %}
    {%- for aggField in field.aggFieldList %}
    {{ aggField.fieldName }} @include(if: $include_{{ aggField.fieldName }})
    {%- endfor %}
    {%- endif %}
    {%- endfor %}
    {%- endif %}
  }
    {%- endif %}
    {%- endif %}
}