query Query_{{ name }}
  {%- if args and args.length > 0 or fields and fields.length > 0 or aggFields and aggFields.length > 0-%}
  ({% for arg in args %}{% if arg.alias %}${{ arg.alias }}{% else %}${{ arg.name }}{% endif %}: {{ arg.type }} {% endfor %}{% for field in fields %}$include{{ field.name | pascalCase }}: Boolean = false {% endfor %}{% for field in aggFields %}$include{{ field.fieldName | pascalCase }}: Boolean = false {% endfor %})
  {%- endif %} {
  {{ name }}
    {%- if args and args.length > 0 %}({% for arg in args %}{{ arg.name }}: {% if arg.alias %}${{ arg.alias }}{% else %}${{ arg.name }}{% endif %}{% endfor %}){%- if args and args.length > 0 %} {% endif %}{% endif %}
    {%- if isConnection %} {
    totalCount
    edges {
      node {
        {%- if fields %}
        {%- for field in fields %}
        {{ field.name }} @include(if: $include{{ field.name | pascalCase }})
        {%- endfor %}
        {%- endif %}
        {%- if aggFields %}
        {%- for field in aggFields %}
        {%- if field.isObjectType %}
        {{ field.fieldName }} @include(if: $include{{ field.fieldName | pascalCase }}) {
          {%- for aggField in field.aggFieldList %}
            {{ aggField.fieldName }} @include(if: $include{{ field.fieldName | pascalCase }}{{ aggField.fieldName | pascalCase }})
          {%- endfor %}
        }
        {%- else %}
        {%- for aggField in field.aggFieldList %}
          {{ aggField.fieldName }} @include(if: $include{{ aggField.fieldName | pascalCase }})
        {%- endfor %}
        {%- endif %}
        {%- endfor %}
        {%- endif %}
      }
    }
  }
    {%- else %}
    {%- if fields or aggFields %} {
    {%- if fields %}
    {%- for field in fields %}
    {{ field.name }} @include(if: $include{{ field.name | pascalCase }})
    {%- endfor %}
    {%- endif %}
    {%- if aggFields %}
    {%- for field in aggFields %}
    {%- if field.isObjectType %}
    {{ field.fieldName }} @include(if: $include{{ field.fieldName | pascalCase }}) {
      {%- for aggField in field.aggFieldList %}
        {{ aggField.fieldName }} @include(if: $include{{ field.fieldName | pascalCase }}{{ aggField.fieldName | pascalCase }})
      {%- endfor %}
    }
    {%- else %}
    {%- for aggField in field.aggFieldList %}
      {{ aggField.fieldName }} @include(if: $include{{ aggField.fieldName | pascalCase }})
    {%- endfor %}
    {%- endif %}
    {%- endfor %}
    {%- endif %}
  }
    {%- endif %}
    {%- endif %}
}