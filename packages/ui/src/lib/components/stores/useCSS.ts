import { derived, get, type Writable, writable } from 'svelte/store';

const z_classes = {
    0: 'z-[0]',
    1: 'z-[1]',
    2: 'z-[2]',
    3: 'z-[3]',
    4: 'z-[4]',
    5: 'z-[5]',
    6: 'z-[6]',
    7: 'z-[7]',
    8: 'z-[8]',
    9: 'z-[9]',
    10: 'z-[10]',
    11: 'z-[11]',
    12: 'z-[12]',
    13: 'z-[13]',
    14: 'z-[14]',
    15: 'z-[15]',
    16: 'z-[16]',
    17: 'z-[17]',
    18: 'z-[18]',
    19: 'z-[19]',
    20: 'z-[20]',
    21: 'z-[21]',
    22: 'z-[22]',
    23: 'z-[23]',
    24: 'z-[24]',
    25: 'z-[25]',
    26: 'z-[26]',
    27: 'z-[27]',
    28: 'z-[28]',
    29: 'z-[29]',
    30: 'z-[30]',
    31: 'z-[31]',
    32: 'z-[32]',
    33: 'z-[33]',
    34: 'z-[34]',
    35: 'z-[35]',
    36: 'z-[36]',
    37: 'z-[37]',
    38: 'z-[38]',
    39: 'z-[39]',
    40: 'z-[40]',
    41: 'z-[41]',
    42: 'z-[42]',
    43: 'z-[43]',
    44: 'z-[44]',
    45: 'z-[45]',
    46: 'z-[46]',
    47: 'z-[47]',
    48: 'z-[48]',
    49: 'z-[49]',
    50: 'z-[50]',
    51: 'z-[51]',
    52: 'z-[52]',
    53: 'z-[53]',
    54: 'z-[54]',
    55: 'z-[55]',
    56: 'z-[56]',
    57: 'z-[57]',
    58: 'z-[58]',
    59: 'z-[59]',
    60: 'z-[60]',
    61: 'z-[61]',
    62: 'z-[62]',
    63: 'z-[63]',
    64: 'z-[64]',
    65: 'z-[65]',
    66: 'z-[66]',
    67: 'z-[67]',
    68: 'z-[68]',
    69: 'z-[69]',
    70: 'z-[70]',
    71: 'z-[71]',
    72: 'z-[72]',
    73: 'z-[73]',
    74: 'z-[74]',
    75: 'z-[75]',
    76: 'z-[76]',
    77: 'z-[77]',
    78: 'z-[78]',
    79: 'z-[79]',
    80: 'z-[80]',
    81: 'z-[81]',
    82: 'z-[82]',
    83: 'z-[83]',
    84: 'z-[84]',
    85: 'z-[85]',
    86: 'z-[86]',
    87: 'z-[87]',
    88: 'z-[88]',
    89: 'z-[89]',
    90: 'z-[90]',
    91: 'z-[91]',
    92: 'z-[92]',
    93: 'z-[93]',
    94: 'z-[94]',
    95: 'z-[95]',
    96: 'z-[96]',
    97: 'z-[97]',
    98: 'z-[98]',
    99: 'z-[99]',
    100: 'z-[100]',
}

const z_hover_classes = {
    0: 'hover:z-[0]',
    1: 'hover:z-[1]',
    2: 'hover:z-[2]',
    3: 'hover:z-[3]',
    4: 'hover:z-[4]',
    5: 'hover:z-[5]',
    6: 'hover:z-[6]',
    7: 'hover:z-[7]',
    8: 'hover:z-[8]',
    9: 'hover:z-[9]',
    10: 'hover:z-[10]',
    11: 'hover:z-[11]',
    12: 'hover:z-[12]',
    13: 'hover:z-[13]',
    14: 'hover:z-[14]',
    15: 'hover:z-[15]',
    16: 'hover:z-[16]',
    17: 'hover:z-[17]',
    18: 'hover:z-[18]',
    19: 'hover:z-[19]',
    20: 'hover:z-[20]',
    21: 'hover:z-[21]',
    22: 'hover:z-[22]',
    23: 'hover:z-[23]',
    24: 'hover:z-[24]',
    25: 'hover:z-[25]',
    26: 'hover:z-[26]',
    27: 'hover:z-[27]',
    28: 'hover:z-[28]',
    29: 'hover:z-[29]',
    30: 'hover:z-[30]',
    31: 'hover:z-[31]',
    32: 'hover:z-[32]',
    33: 'hover:z-[33]',
    34: 'hover:z-[34]',
    35: 'hover:z-[35]',
    36: 'hover:z-[36]',
    37: 'hover:z-[37]',
    38: 'hover:z-[38]',
    39: 'hover:z-[39]',
    40: 'hover:z-[40]',
    41: 'hover:z-[41]',
    42: 'hover:z-[42]',
    43: 'hover:z-[43]',
    44: 'hover:z-[44]',
    45: 'hover:z-[45]',
    46: 'hover:z-[46]',
    47: 'hover:z-[47]',
    48: 'hover:z-[48]',
    49: 'hover:z-[49]',
    50: 'hover:z-[50]',
    51: 'hover:z-[51]',
    52: 'hover:z-[52]',
    53: 'hover:z-[53]',
    54: 'hover:z-[54]',
    55: 'hover:z-[55]',
    56: 'hover:z-[56]',
    57: 'hover:z-[57]',
    58: 'hover:z-[58]',
    59: 'hover:z-[59]',
    60: 'hover:z-[60]',
    61: 'hover:z-[61]',
    62: 'hover:z-[62]',
    63: 'hover:z-[63]',
    64: 'hover:z-[64]',
    65: 'hover:z-[65]',
    66: 'hover:z-[66]',
    67: 'hover:z-[67]',
    68: 'hover:z-[68]',
    69: 'hover:z-[69]',
    70: 'hover:z-[70]',
    71: 'hover:z-[71]',
    72: 'hover:z-[72]',
    73: 'hover:z-[73]',
    74: 'hover:z-[74]',
    75: 'hover:z-[75]',
    76: 'hover:z-[76]',
    77: 'hover:z-[77]',
    78: 'hover:z-[78]',
    79: 'hover:z-[79]',
    80: 'hover:z-[80]',
    81: 'hover:z-[81]',
    82: 'hover:z-[82]',
    83: 'hover:z-[83]',
    84: 'hover:z-[84]',
    85: 'hover:z-[85]',
    86: 'hover:z-[86]',
    87: 'hover:z-[87]',
    88: 'hover:z-[88]',
    89: 'hover:z-[89]',
    90: 'hover:z-[90]',
    91: 'hover:z-[91]',
    92: 'hover:z-[92]',
    93: 'hover:z-[93]',
    94: 'hover:z-[94]',
    95: 'hover:z-[95]',
    96: 'hover:z-[96]',
    97: 'hover:z-[97]',
    98: 'hover:z-[98]',
    99: 'hover:z-[99]',
    100: 'hover:z-[100]',
}

function createZIndex() {
    const z_index: Writable<number> = writable(0);
    const { subscribe, set, update } = z_index;
    return {
        subscribe,
        next: (n?: number | undefined) => update(($z_index) => $z_index + (n || 10)),
        top: (n?: number | undefined) => z_classes[get(z_index) + (n || 0)],
        topHover: (n?: number | undefined) => z_hover_classes[get(z_index) + (n || 0)],
        reset: () => set(0)
    };
}

export const z_index = createZIndex();

export const z_class = derived(
    z_index,
    ($z_index) => z_classes[$z_index]
);

export const z_hover_class = derived(
    z_index,
    ($z_index) => z_hover_classes[$z_index]
);